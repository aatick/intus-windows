@page "/windowsetup"
@page "/windowsetup/{id:int}"
@using IntusWindows.Client.Pages.CommonComponent
@if (Id == 0 || Id == null)
{
    <PageTitle>Create New Window</PageTitle>
    <h3>Create New Window</h3>
}
else
{
    <PageTitle>Update Window</PageTitle>
    <h3>Edit Window</h3>
}
<div style="height: 1px; width: 100%; background-color: #DDDDDD;"></div>
<EditForm Model="aWindow" OnSubmit="HandleSubmitAsync">
    <div class="container-fluid mt-5">
        <div class="row mb-5">
            <div class="col-lg-2">
                <label for="txtName">Select Order :</label>
            </div>
            <div class="col-lg-4">
                <select class="form-control input-sm" id="cmbOrder" @onchange="OnOrderSelect">
                    <option value="0">Select Order</option>
                    @foreach (var o in orderList)
                    {
                        if (o.Id == aWindow.OrderId)
                        {
                            <option selected="selected" value="@o.Id">@o.Name</option>
                        }
                        else
                        {
                            <option value="@o.Id">@o.Name</option>
                        }
                    }
                </select>
            </div>
        </div>
        <div class="row mb-5">
            <div class="col-lg-2">
                <label for="txtName">Name :</label>
            </div>
            <div class="col-lg-4">
                <input id="txtName" @bind-value="@aWindow.Name" class="form-control input-sm" />
            </div>
        </div>
        <div class="row mb-5">
            <div class="col-lg-2">
                <label for="txtName">Quality :</label>
            </div>
            <div class="col-lg-4">
                <input id="txtName" @bind-value="@aWindow.QualityOfWindows" class="form-control input-sm" />
            </div>
        </div>
        <div class="row mt-5">
            <div class="col-lg-2"></div>
            <div class="col-lg-4">
                @if (Id == null || Id == 0)
                {
                    <button type="submit" class="btn btn-primary btn-success"><i class="oi oi-check"></i> Save</button>
                }
                else
                {
                    <button type="submit" class="btn btn-primary btn-success"><i class="oi oi-check"></i> Update</button>
                }
            </div>
        </div>
    </div>
</EditForm>
<CustomAlertBox alertBox="@alertBox">
</CustomAlertBox>